---
title: "Texture Mapping"
---

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com"></script>
    <style>
        body { margin: 0; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; background: #f5f5f5; }
        header { padding: 20px; text-align: center; }
        /* 2. Style the viewer container */
        #container { width: 90vw; height: 70vh; background: #ffffff; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); overflow: hidden; }
        model-viewer { width: 100%; height: 100%; --poster-color: transparent; }
    </style>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>

<header>
</header>


:::{layout-ncol=2}
![UV Checkerboard Texture](../../assets/uv_checkerboard.png){width=60%}

<div style="background: #fdfdfd; padding: 10px; border-radius: 8px; border: 1px solid #eee;">
<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
<model-viewer 
    src="../../assets/anosov.glb" 
    alt="A 3D textured torus" 
    style="width: 100%; height: 600px;"
    auto-rotate 
    camera-controls 
    shadow-intensity="1" 
    exposure="1" 
    environment-image="neutral">
</model-viewer>
</div>
<!-- N O T E: the ar (augmented reality) attribute made the model-viewer appear blank -->

:::

The pseudocode for the texture mapping is below.


```{python}
#| eval: false
#| code-fold: true

img = load_image
x,y = pixel_coordinates(img)

show(img, map_x, map_y)
```

# Troubleshooting

Getting UV-coordinates right is hard.  The UV-coordinates are the coordinates of the texture image that correspond to each vertex of the 3D model.  If the UV-coordinates are wrong, the texture will be distorted or not appear at all.  This is what it looks like when they are off:

<div style="background: #fdfdfd; padding: 10px; border-radius: 8px; border: 1px solid #eee;">
<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
<model-viewer 
    src="../../assets/no_bump_uv_checkerboard_res_1024_iter_0_period_3_map.glb" 
    alt="A 3D textured torus" 
    style="width: 100%; height: 600px;"
    auto-rotate 
    camera-controls 
    shadow-intensity="1" 
    exposure="1" 
    environment-image="neutral">
</model-viewer>
</div>

Or this one where the V coordinate is linearly increasing

<div style="background: #fdfdfd; padding: 10px; border-radius: 8px; border: 1px solid #eee;">
<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
<model-viewer 
    src="../../assets/linear_uv_checkerboard_res_1024_iter_0_period_3_map.glb" 
    alt="A 3D textured torus" 
    style="width: 100%; height: 600px;"
    auto-rotate 
    camera-controls 
    shadow-intensity="1" 
    exposure="1" 
    environment-image="neutral">
</model-viewer>
</div>



Below we have the UV-coordinates almost right, but the seam is blurry.  This is a 'seam crosser' problem.  The UV-coordinates are in [0,1]x[0,1] so on the torus 0.9 is actually close to 0.1, but the texture mapping doesn't know that, so it stretches the texture across the seam.  This can be fixed by snapping the UV-coordinates to 0 or 1 when they are close to the seam, but this can cause other problems if not done carefully.

<div style="background: #fdfdfd; padding: 10px; border-radius: 8px; border: 1px solid #eee;">
<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
<model-viewer 
    src="../../assets/no_snap_uv_checkerboard_res_1024_iter_1_period_3_map.glb" 
    alt="A 3D textured torus" 
    style="width: 100%; height: 600px;"
    auto-rotate 
    camera-controls 
    shadow-intensity="1" 
    exposure="1" 
    environment-image="neutral">
</model-viewer>
</div>

<div style="margin-top: 50px; padding-top: 20px; border-top: 1px solid #eee; text-align: right;">
<a href="../docs/index.html" style="text-decoration: none; color: #666;">Home</a>
</div>

<p>

</p>
</body>
</html>

