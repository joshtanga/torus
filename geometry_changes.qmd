---
title: "Quantifying Geometric Change in an Isotopy"
format: 
    html:
        page-layout: full
---


### Isotopy

Here we view an isotopy; a continuous deformation through time $f_t: T^2 \to T^2$, where each step is a homeomorphism.  The topology remains the same but the geometry changes.   One aspect of this change is the **metric distortion** â€” how much the surface area of small neighborhoods stretches or shrinks during the transformation.  This is indicated by the color of the faces in the 3D model, where blue indicates shrinking and red indicates stretching.  The histogram on the right quantifies this distortion across all faces, showing the distribution of area change.

::: {layout="[60, 40]"}
::: {#first-column}

<div style="background: #fdfdfd; padding: 10px; border-radius: 8px; border: 1px solid #eee;">
<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>

<model-viewer 
    id="torus-scrubber" 
    src="../assets/torus_area_analysis/step_0.glb"
    camera-controls 
    style="width: 100%; height: 400px;">
</model-viewer>

<input type="range" id="master-slider" min="0" max="19" value="0" style="width: 100%;">
<p><strong>Slide to evolve Homeomorphism:</strong> <span id="frame-val">0</span></p>
</div>

:::
::: {#second-column}

### Geometric Distortion
The histogram below represents the distribution of area change across all faces. A "perfect" area-preserving map would result in a single spike at **1.0**.


<div style="flex: 1; min-width: 300px; text-align: center;">
  <img id="hist-scrubber" src="../dist_hist/histogram_0.png" style="width: 100%; max-width: 450px; border-radius: 8px;">
</div>



### Analysis of the Mapping
Based on the distribution above, our mapping exhibits a **Maximum Stretch Factor** of 

```{r, echo = FALSE} 
final_ratios = 1
max(final_ratios)
```

The total surface area of the manifold changed from 

```{r, echo = FALSE}
library(glue)
orig_areas <- 1  # Note R uses <- for assignment
new_areas <- 2

glue("{sum(orig_areas)} to {sum(new_areas)} units, representing a total expansion {((sum(new_areas)/sum(orig_areas))-1)*100}%")
```
:::
:::

<script>
    const viewer = document.querySelector('#torus-scrubber');
    const histImg = document.querySelector('#hist-scrubber');
    const slider = document.querySelector('#master-slider');
    const label = document.querySelector('#frame-val');

    slider.addEventListener('input', (e) => {
        const val = e.target.value;
        
        // Update 3D Model
        viewer.src = `../assets/torus_area_analysis/step_${val}.glb`;
        
        // Update Histogram Image
        histImg.src = `../dist_hist/histogram_${val}.png`;
        
        // Update label
        label.innerText = val;
    });
</script>


